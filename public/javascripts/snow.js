"use strict";!function(e){var n=e.Snow=e.Snow||{};n.snowflakes=[],n.falling=null,n.throttleTime=Date.now(),n.mouseCheckDelay=500,n.height=3,n.FALL_SPEED=2.5,n.HORIZONTAL_SPEED=0,n.TOTAL_SNOWFLAKES=250,n.maxX=window.innerWidth,n.maxY=window.innerHeight;var t=n.Snowflake=function(e,t,a){this.fallSpeed=n.FALL_SPEED+Math.random()*a,this.centerX=e,this.centerY=t,this.radius=a,this.color="#eee"};t.MAX_RADIUS=5,t.generateRandom=function(e){var a=e?0:n.maxY*Math.random();return new t(n.maxX*Math.random(),a,t.MAX_RADIUS*Math.random())},t.prototype.fall=function(){this.centerY+=this.fallSpeed,this.centerX+=n.HORIZONTAL_SPEED,this.centerY>n.maxY-n.height&&(n.addNewSnowflake(),this.fallSpeed=0),this.centerX>n.maxX?this.centerX=0:this.centerX<0&&(this.centerX=n.maxX)},t.prototype.render=function(e){e.fillStyle=this.color,e.beginPath(),e.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,!1),e.fill()},n.addNewSnowflake=function(){this.snowflakes.push(t.generateRandom(!0))},n.render=function(e){e.clearRect(0,0,n.maxX,n.maxY),n.snowflakes.forEach(function(n){n.render(e)})},n.fall=function(){n.snowflakes.forEach(function(e){e.fallSpeed>0&&e.fall()}),n.snowflakes.length%500==0&&(n.height+=2),n.snowflakes.length>4500&&n.reset()},n.start=function(){for(var e=0;e<n.TOTAL_SNOWFLAKES;e++)n.snowflakes.push(t.generateRandom());n.toggle()},n.toggle=function(){var e=document.getElementById("canvas"),t=e.getContext("2d");n.falling?(window.clearInterval(n.falling),n.falling=null):(e.width=n.maxX,e.height=n.maxY,n.falling=setInterval(function(){n.fall(),n.render(t)},25))},n.reset=function(){n.snowflakes.length=0,n.height=3,n.toggle(),n.start()}}(void 0),window.addEventListener("mousemove",function(e){var n=Date.now();if(n>Snow.throttleTime+Snow.mouseCheckDelay){var t=e.x,a=Snow.maxX/3,o=Snow.maxX/3*2;Snow.throttleTime=n,t<=a?Snow.HORIZONTAL_SPEED=-.5:t>a&&t<o?Snow.HORIZONTAL_SPEED=0:Snow.HORIZONTAL_SPEED=.5}}),Snow.start();